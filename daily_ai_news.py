import os
import json
import datetime
import subprocess

BASE_DIR = "/Users/kimsungwuk/StudioProjects/chloe-blog"

def get_journalistic_news():
    """
    [ì¤‘ìš”] ë°ì´í„° í•˜ë“œì½”ë”© ê¸ˆì§€
    ì‹¤ì‹œê°„ ê²€ìƒ‰ì„ í†µí•´ ìµœì‹  AI ë‰´ìŠ¤ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë¡œì§ìœ¼ë¡œ ì „í™˜í•©ë‹ˆë‹¤.
    ìë™í™” ì—ì´ì „íŠ¸ëŠ” ì´ í•¨ìˆ˜ë¥¼ ì§ì ‘ ìˆ˜ì •í•˜ê±°ë‚˜ ìµœì‹  ì •ë³´ë¥¼ ì£¼ì…í•´ì•¼ í•©ë‹ˆë‹¤.
    """
    # ì—ì´ì „íŠ¸ ê°€ì´ë“œ: 
    # 1. web_searchë¥¼ í†µí•´ ì˜¤ëŠ˜ì˜ ìµœì‹  AI ë‰´ìŠ¤ 5~7ê°œë¥¼ ìˆ˜ì§‘í•˜ì„¸ìš”.
    # 2. ìˆ˜ì§‘ëœ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ news_data ë¦¬ìŠ¤íŠ¸ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•˜ì„¸ìš”.
    # 3. [ì´ˆì •ë°€ SEO ëª¨ë“œ]: ê° ë‰´ìŠ¤ë§ˆë‹¤ 'keywords' ë¦¬ìŠ¤íŠ¸ë¥¼ ìƒì„±í•˜ì—¬ ì£¼ì…í•˜ì„¸ìš”.
    #    ì˜ˆ: "keywords": ["ê°¤ëŸ­ì‹œ S26", "ì—ì´ì „í‹± AI", "ì‚¼ì„± ì–¸íŒ©"]
    news_data = [
        {
            "title": "MWC 2026 ê°œë§‰ ì§€ëŠ¥í™” ì‹œëŒ€ë¡œì˜ ëŒ€ì „í™˜ ì„ ì–¸",
            "category": "AI ì‚°ì—…",
            "summary": "ë°”ë¥´ì…€ë¡œë‚˜ì—ì„œ ê°œë§‰í•œ MWC 2026ì€ ëª¨ë°”ì¼ê³¼ í†µì‹ ì„ ë„˜ì–´ AI ê¸°ìˆ ì˜ ì •ì ì„ ë³´ì—¬ì£¼ëŠ” ì „ì‹œíšŒë¡œ íƒˆë°”ê¿ˆí–ˆìŠµë‹ˆë‹¤. ì „ ì„¸ê³„ 200ì—¬ ê°œêµ­ 2900ì—¬ ê¸°ì—…ì´ ì°¸ê°€í•œ ì´ë²ˆ í–‰ì‚¬ëŠ” ì§€ëŠ¥ì˜ ì‹œëŒ€ë¼ëŠ” ì£¼ì œ ì•„ë˜ AIì™€ ë„¤íŠ¸ì›Œí¬ì˜ ìœµí•©ì„ í•µì‹¬ ê³¼ì œë¡œ ì œì‹œí–ˆìŠµë‹ˆë‹¤.",
            "content": "MWC 2026ì˜ ê°œë§‰ì€ ë‹¨ìˆœí•œ ê¸°ìˆ  ì „ì‹œë¥¼ ë„˜ì–´ ì¸ë¥˜ê°€ ë³¸ê²©ì ì¸ ì§€ëŠ¥ì˜ ì‹œëŒ€ì— ì§„ì…í–ˆìŒì„ ì•Œë¦¬ëŠ” ì‹ í˜¸íƒ„ì…ë‹ˆë‹¤. ì´ë²ˆ ì „ì‹œíšŒì—ì„œëŠ” 6G ë„¤íŠ¸ì›Œí¬ì˜ ì™„ì„±í˜• ëª¨ë¸ê³¼ í•¨ê»˜ ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ êµ¬ë™ë˜ëŠ” ì´ˆì§€ëŠ¥í˜• AI ì„œë¹„ìŠ¤ë“¤ì´ ëŒ€ê±° ê³µê°œë˜ì—ˆìŠµë‹ˆë‹¤. íŠ¹íˆ í†µì‹  ì¸í”„ë¼ ìì²´ê°€ AIì˜ ë‘ë‡Œ ì—­í• ì„ ìˆ˜í–‰í•˜ëŠ” AI-RAN ê¸°ìˆ ì´ í•µì‹¬ í™”ë‘ë¡œ ë– ì˜¬ëìœ¼ë©° ì´ëŠ” ê¸°ì¡´ì˜ ë°ì´í„° ì „ë‹¬ ì¤‘ì‹¬ í†µì‹ ë§ì„ ì§€ëŠ¥í˜• ì—°ì‚° ì¸í”„ë¼ë¡œ ì§„í™”ì‹œí‚¤ëŠ” ê³„ê¸°ê°€ ë  ì „ë§ì…ë‹ˆë‹¤. ì „ë¬¸ê°€ë“¤ì€ ì´ë²ˆ MWCê°€ AI ê¸°ìˆ ì´ ì‚°ì—… ì „ë°˜ì— ì‹¤ì§ˆì ìœ¼ë¡œ ì´ì‹ë˜ëŠ” ë³€ê³¡ì ì´ ë  ê²ƒìœ¼ë¡œ ë¶„ì„í•˜ê³  ìˆìŠµë‹ˆë‹¤.",
            "image_url": "https://images.unsplash.com/photo-1677442136019-21780ecad995",
            "keywords": ["MWC 2026", "ì§€ëŠ¥ì˜ ì‹œëŒ€", "6G", "AI-RAN", "ë°”ë¥´ì…€ë¡œë‚˜"]
        },
        {
            "title": "ë² íŠ¸ë‚¨ ë™ë‚¨ì•„ ìµœì´ˆ í¬ê´„ì  AI ê·œì œë²• ì‹œí–‰",
            "category": "AI ì •ì±…",
            "summary": "ë² íŠ¸ë‚¨ì´ 2026ë…„ 3ì›” 2ì¼ì„ ê¸°í•´ ë™ë‚¨ì•„ì‹œì•„ êµ­ê°€ ì¤‘ ìµœì´ˆë¡œ ì¸ê³µì§€ëŠ¥ì— ê´€í•œ í¬ê´„ì ì¸ ê·œì œ ë²•ì•ˆì„ ì „ê²© ì‹œí–‰í–ˆìŠµë‹ˆë‹¤. ì´ëŠ” ê¸‰ì„±ì¥í•˜ëŠ” AI ì‚°ì—…ì˜ ì•ˆì „ì„±ì„ í™•ë³´í•˜ê³  ìœ¤ë¦¬ì  ê°€ì´ë“œë¼ì¸ì„ ë²•ì œí™”í•˜ë ¤ëŠ” ì•„ì‹œì•„ êµ­ê°€ë“¤ì˜ ì›€ì§ì„ì„ ëŒ€ë³€í•©ë‹ˆë‹¤.",
            "content": "ë² íŠ¸ë‚¨ì˜ ìƒˆë¡œìš´ AI ë²•ì•ˆì€ AI ì‹œìŠ¤í…œì˜ ê°œë°œê³¼ ë°°í¬ ê³¼ì •ì—ì„œ íˆ¬ëª…ì„±ê³¼ ì±…ì„ì„±ì„ ê°•í™”í•˜ëŠ” ë° ì´ˆì ì„ ë§ì¶”ê³  ìˆìŠµë‹ˆë‹¤. íŠ¹íˆ ê³ ìœ„í—˜ AI ì‹œìŠ¤í…œì— ëŒ€í•œ ì—„ê²©í•œ ì‹¬ì‚¬ ì œë„ì™€ ë°ì´í„° í”„ë¼ì´ë²„ì‹œ ë³´í˜¸ ì¡°í•­ì´ í¬í•¨ë˜ì–´ ìˆì–´ ê¸€ë¡œë²Œ í…Œí¬ ê¸°ì—…ë“¤ì˜ ë² íŠ¸ë‚¨ ë‚´ ì‚¬ì—… ìš´ì˜ì— ìƒˆë¡œìš´ ê¸°ì¤€ì„ ì œì‹œí•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ë²ˆ ë²•ì•ˆ ì‹œí–‰ì€ ë™ë‚¨ì•„ì‹œì•„ ì§€ì—­ ë‚´ì—ì„œ AI ê±°ë²„ë„ŒìŠ¤ì˜ ì„ ë¡€ë¥¼ ë‚¨ê¸°ëŠ” ê²ƒìœ¼ë¡œ ì£¼ë³€ êµ­ê°€ë“¤ì˜ ìœ ì‚¬ ë²•ì•ˆ ë„ì…ì—ë„ í° ì˜í–¥ì„ ë¯¸ì¹  ê²ƒìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤. ë² íŠ¸ë‚¨ ì •ë¶€ëŠ” ê·œì œì™€ ì§„í¥ ì‚¬ì´ì˜ ê· í˜•ì„ ë§ì¶”ë©° ê¸€ë¡œë²Œ AI í—ˆë¸Œë¡œ ë„ì•½í•˜ê² ë‹¤ëŠ” ì „ëµì…ë‹ˆë‹¤.",
            "image_url": "https://images.unsplash.com/photo-1550751827-4bd374c3f58b",
            "keywords": ["ë² íŠ¸ë‚¨ AIë²•", "ë™ë‚¨ì•„ AI ê·œì œ", "AI ê±°ë²„ë„ŒìŠ¤", "ë°ì´í„° í”„ë¼ì´ë²„ì‹œ"]
        },
        {
            "title": "ì‚¼ì„±ì „ì ê°¤ëŸ­ì‹œ S26 ê³µê°œì™€ ì—ì´ì „í‹± AI ë¹„ì „ ì œì‹œ",
            "category": "AI ë””ë°”ì´ìŠ¤",
            "summary": "ì‚¼ì„±ì „ìê°€ MWC 2026ì—ì„œ ê°¤ëŸ­ì‹œ S26 ì‹œë¦¬ì¦ˆë¥¼ ì„ ë³´ì´ë©° ì‚¬ìš©ìì˜ ì˜ë„ë¥¼ ì„ ì œì ìœ¼ë¡œ íŒŒì•…í•´ í–‰ë™í•˜ëŠ” ì—ì´ì „í‹± AI ê¸°ìˆ ì„ ì „ë©´ì— ë‚´ì„¸ì› ìŠµë‹ˆë‹¤. ì´ëŠ” ë‹¨ìˆœí•œ ë„ìš°ë¯¸ ì—­í• ì„ ë„˜ì–´ì„  ëŠ¥ë™í˜• AI ìƒíƒœê³„ì˜ ì‹œì‘ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.",
            "content": "ê°¤ëŸ­ì‹œ S26 ì‹œë¦¬ì¦ˆì— íƒ‘ì¬ëœ ìƒˆë¡œìš´ AI ì‹œìŠ¤í…œì€ ì‚¬ìš©ìì˜ íŒ¨í„´ì„ ì‹¬ì¸µ ë¶„ì„í•˜ì—¬ ë‹¤ìŒ í–‰ë™ì„ ì˜ˆì¸¡í•˜ê³  ì œì•ˆí•˜ëŠ” ì—ì´ì „í‹± ê¸°ëŠ¥ì„ ê°•í™”í–ˆìŠµë‹ˆë‹¤. ì‚¼ì„±ì „ìëŠ” ì´ë¥¼ í†µí•´ ê¸°ê¸° ê°„ ì—°ê²°ì„±ì„ ê·¹ëŒ€í™”í•œ ì´ˆì—°ê²° ì—ì½”ì‹œìŠ¤í…œì„ êµ¬ì¶•í•˜ê³  ì‚¬ìš©ìê°€ ë³„ë„ì˜ ëª…ë ¹ì„ ë‚´ë¦¬ì§€ ì•Šì•„ë„ ìµœì ì˜ í™˜ê²½ì„ ì¡°ì„±í•˜ëŠ” ì§€ëŠ¥í˜• ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•  ê³„íšì…ë‹ˆë‹¤. íŠ¹íˆ ì´ë²ˆ ë°œí‘œì—ì„œëŠ” í•˜ë“œì›¨ì–´ ì„±ëŠ¥ í–¥ìƒë³´ë‹¤ ì†Œí”„íŠ¸ì›¨ì–´ ìˆ˜ì¤€ì˜ AI í˜ì‹ ì— ë” í° ë¹„ì¤‘ì„ ë‘ì—ˆìœ¼ë©° ì´ëŠ” ëª¨ë°”ì¼ ì‚°ì—…ì˜ ê²½ìŸ ì¤‘ì‹¬ì¶•ì´ í•˜ë“œì›¨ì–´ì—ì„œ ì¸ê³µì§€ëŠ¥ ê²½í—˜ìœ¼ë¡œ ì™„ì „íˆ ì´ë™í–ˆìŒì„ ì‹œì‚¬í•©ë‹ˆë‹¤.",
            "image_url": "https://images.unsplash.com/photo-1610945415295-d9bbf067e59c",
            "keywords": ["ê°¤ëŸ­ì‹œ S26", "ì—ì´ì „í‹± AI", "ì‚¼ì„± ì–¸íŒ©", "ì´ˆì—°ê²° ìƒíƒœê³„"]
        },
        {
            "title": "ì—”ë¹„ë””ì•„ ì†Œí”„íŠ¸ì›¨ì–´ ì •ì˜ AI-RAN ìƒìš©í™” ê°€ì†",
            "category": "AI ì¸í”„ë¼",
            "summary": "ì—”ë¹„ë””ì•„ê°€ ê¸€ë¡œë²Œ íŒŒíŠ¸ë„ˆì‚¬ë“¤ê³¼ í•¨ê»˜ ì†Œí”„íŠ¸ì›¨ì–´ ì •ì˜ AI-RAN ê¸°ìˆ ì˜ ì‹¤ì¦ ê²°ê³¼ë¥¼ ê³µê°œí•˜ë©° ë¯¸ë˜í˜• ë¬´ì„  ë„¤íŠ¸ì›Œí¬ ì‹œì¥ ê³µëµì— ë°•ì°¨ë¥¼ ê°€í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì´ëŠ” í†µì‹ ë§ ìì²´ë¥¼ AI ì—°ì‚° ìì›ìœ¼ë¡œ í™œìš©í•˜ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤.",
            "content": "ì—”ë¹„ë””ì•„ì˜ AI-RAN ì†”ë£¨ì…˜ì€ ê¸°ì¡´ì˜ í•˜ë“œì›¨ì–´ ì¤‘ì‹¬ ë¬´ì„  ì ‘ì†ë§ì„ ì†Œí”„íŠ¸ì›¨ì–´ ê¸°ë°˜ìœ¼ë¡œ ì „í™˜í•˜ì—¬ AI ì›Œí¬ë¡œë“œë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤. ì´ ê¸°ìˆ ì€ í†µì‹  ì‚¬ì—…ìë“¤ì´ ê¸°ì¡´ ì¸í”„ë¼ë¥¼ í™œìš©í•´ ìƒˆë¡œìš´ AI ìˆ˜ìµ ëª¨ë¸ì„ ì°½ì¶œí•  ìˆ˜ ìˆëŠ” ê¸°íšŒë¥¼ ì œê³µí•˜ë©° ì´ˆì €ì§€ì—°ì„±ì„ ìš”êµ¬í•˜ëŠ” ììœ¨ì£¼í–‰ì´ë‚˜ ì›ê²© ì˜ë£Œ ì„œë¹„ìŠ¤ êµ¬í˜„ì— í•„ìˆ˜ì ì¸ ìš”ì†Œë¡œ í‰ê°€ë°›ìŠµë‹ˆë‹¤. ì—”ë¹„ë””ì•„ëŠ” ì´ë²ˆ ë°œí‘œë¥¼ í†µí•´ í†µì‹  ì¸í”„ë¼ ì‹œì¥ì—ì„œë„ ìì‚¬ì˜ AI ì»´í“¨íŒ… íŒŒì›Œë¥¼ í™•ì¥í•˜ê² ë‹¤ëŠ” ì˜ì§€ë¥¼ ë¶„ëª…íˆ í–ˆìœ¼ë©° ì´ëŠ” ì „ ì„¸ê³„ í†µì‹ ì‚¬ë“¤ì˜ ë””ì§€í„¸ ì „í™˜ ì†ë„ë¥¼ ë”ìš± ì•ë‹¹ê¸¸ ê²ƒìœ¼ë¡œ ì˜ˆìƒë©ë‹ˆë‹¤.",
            "image_url": "https://images.unsplash.com/photo-1518770660439-4636190af475",
            "keywords": ["ì—”ë¹„ë””ì•„", "AI-RAN", "ì†Œí”„íŠ¸ì›¨ì–´ ì •ì˜ ë„¤íŠ¸ì›Œí¬", "6G ì¸í”„ë¼"]
        },
        {
            "title": "í•œ ì‹±ê°€í¬ë¥´ ì •ìƒíšŒë‹´ AI ë° ë¯¸ë˜ ì‚°ì—… í˜‘ë ¥ ë…¼ì˜",
            "category": "êµ­ì œ í˜‘ë ¥",
            "summary": "ëŒ€í•œë¯¼êµ­ê³¼ ì‹±ê°€í¬ë¥´ ì •ìƒì´ ë§Œë‚˜ ì¸ê³µì§€ëŠ¥ê³¼ ì›ìë ¥ ë°œì „ ë“± ë¯¸ë˜ ìœ ë§ ë¶„ì•¼ì—ì„œì˜ ì „ëµì  íŒŒíŠ¸ë„ˆì‹­ì„ ê°•í™”í•˜ê¸°ë¡œ í•©ì˜í–ˆìŠµë‹ˆë‹¤. ì–‘êµ­ì€ ê¸€ë¡œë²Œ AI í‘œì¤€ ë§ˆë ¨ê³¼ ê¸°ìˆ  êµë¥˜ì— ì ê·¹ í˜‘ë ¥í•  ë°©ì¹¨ì…ë‹ˆë‹¤.",
            "content": "ì´ë²ˆ ì •ìƒíšŒë‹´ì—ì„œëŠ” ê¸°ì¡´ì˜ í†µìƒê³¼ íˆ¬ì ì¤‘ì‹¬ í˜‘ë ¥ì„ ë„˜ì–´ AIì™€ ê°™ì€ ì²¨ë‹¨ ê¸°ìˆ  ë¶„ì•¼ë¡œ ì™¸ì—°ì„ í™•ëŒ€í•˜ëŠ” ë°©ì•ˆì´ ì‹¬ë„ ìˆê²Œ ë…¼ì˜ë˜ì—ˆìŠµë‹ˆë‹¤. ì–‘êµ­ ì •ìƒì€ AI ê¸°ìˆ ì˜ ê¸‰ê²©í•œ ë°œì „ì´ ê°€ì ¸ì˜¬ ì‚¬íšŒì  ë³€í™”ì— ê³µë™ ëŒ€ì‘í•˜ê³  ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” AI í™˜ê²½ ì¡°ì„±ì„ ìœ„í•œ êµ­ì œì  ê¸°ì¤€ ë§ˆë ¨ì— í˜ì„ ëª¨ìœ¼ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤. íŠ¹íˆ ì–‘êµ­ì˜ ê°•ì ì¸ ë””ì§€í„¸ ê¸°ìˆ ë ¥ì„ ê²°í•©í•˜ì—¬ ì•„ì‹œì•„ ì§€ì—­ì˜ AI í˜ì‹ ì„ ì£¼ë„í•˜ê³  ìŠ¤íƒ€íŠ¸ì—… ìƒíƒœê³„ í™œì„±í™”ë¥¼ ìœ„í•œ ê³µë™ í€ë“œ ì¡°ì„± ê°€ëŠ¥ì„±ë„ ì—´ì–´ë‘ì—ˆìŠµë‹ˆë‹¤. ì´ë²ˆ íšŒë‹´ì€ í•œêµ­ì˜ AI ì™¸êµ ì§€í‰ì„ ë™ë‚¨ì•„ì‹œì•„ì˜ í•µì‹¬ ê±°ì ì¸ ì‹±ê°€í¬ë¥´ë¡œ í™•ì¥í–ˆë‹¤ëŠ” ì ì—ì„œ í° ì˜ì˜ê°€ ìˆìŠµë‹ˆë‹¤.",
            "image_url": "https://images.unsplash.com/photo-1521791136364-798a7bc0d262",
            "keywords": ["í•œ ì‹±ê°€í¬ë¥´ ì •ìƒíšŒë‹´", "AI í˜‘ë ¥", "ë¯¸ë˜ ì‚°ì—…", "ë””ì§€í„¸ ì™¸êµ"]
        },
        {
            "title": "ì—ì´ì „í‹± AI ë„ì…ì— ë”°ë¥¸ ê¸€ë¡œë²Œ ê³ ìš© ì‹œì¥ì˜ ë³€í™”",
            "category": "AI ê²½ì œ",
            "summary": "í˜¸ì£¼ì˜ ì£¼ìš” ë¬¼ë¥˜ ì†Œí”„íŠ¸ì›¨ì–´ ê¸°ì—… ì™€ì´ì¦ˆí…Œí¬ ê¸€ë¡œë²Œì´ AI ì „í™˜ì˜ ì¼í™˜ìœ¼ë¡œ ëŒ€ê·œëª¨ ì¸ë ¥ ì¡°ì •ì„ ë‹¨í–‰í•˜ë©´ì„œ ì—ì´ì „í‹± AIê°€ ì‹¤ì œ ê³ ìš© ì‹œì¥ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì´ ê°€ì‹œí™”ë˜ê³  ìˆìŠµë‹ˆë‹¤.",
            "content": "ì™€ì´ì¦ˆí…Œí¬ ê¸€ë¡œë²Œì˜ ì´ë²ˆ ì¸ë ¥ ì¡°ì •ì€ AI ê¸°ìˆ ì´ ë‹¨ìˆœí•œ ì—…ë¬´ ë³´ì¡°ë¥¼ ë„˜ì–´ ì‹¤ì§ˆì ì¸ ì—…ë¬´ í”„ë¡œì„¸ìŠ¤ë¥¼ ììœ¨ì ìœ¼ë¡œ ìˆ˜í–‰í•˜ëŠ” ë‹¨ê³„ì— ì´ë¥´ë €ìŒì„ ë³´ì—¬ì£¼ëŠ” ì‚¬ë¡€ì…ë‹ˆë‹¤. ì§€ëŠ¥ì˜ ë¹„ìš©ì´ ê¸‰ë½í•˜ë©´ì„œ ê¸°ì—…ë“¤ì€ íš¨ìœ¨ì„± ê·¹ëŒ€í™”ë¥¼ ìœ„í•´ ì¸ê°„ì˜ ë…¸ë™ë ¥ì„ ì—ì´ì „í‹± AIë¡œ ëŒ€ì²´í•˜ëŠ” êµ¬ì¡°ì  ë³€í™”ë¥¼ ì‹œë„í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì „ë¬¸ê°€ë“¤ì€ ì´ëŸ¬í•œ íë¦„ì´ ì „ ì„¸ê³„ ë‹¤ì–‘í•œ ì‚°ì—…êµ°ìœ¼ë¡œ í™•ì‚°ë  ê²ƒì´ë¼ ê²½ê³ í•˜ë©° AIì™€ ê³µì¡´í•  ìˆ˜ ìˆëŠ” ìƒˆë¡œìš´ ì§ë¬´ ì—­ëŸ‰ ê°œë°œê³¼ ì‚¬íšŒ ì•ˆì „ë§ ì¬êµ¬ì¶•ì´ ì‹œê¸‰í•˜ë‹¤ê³  ì¡°ì–¸í•©ë‹ˆë‹¤. ì´ëŠ” AI í˜ì‹ ì´ ê°€ì ¸ì˜¤ëŠ” ê²½ì œì  ì´ìµê³¼ ì‚¬íšŒì  ë¹„ìš© ì‚¬ì´ì˜ ê°ˆë“±ì„ í•´ê²°í•´ì•¼ í•˜ëŠ” ì¤‘ìš”í•œ ê³¼ì œë¥¼ ë˜ì ¸ì£¼ê³  ìˆìŠµë‹ˆë‹¤.",
            "image_url": "https://images.unsplash.com/photo-1521898284481-a5ec3ad18c72",
            "keywords": ["ì—ì´ì „í‹± AI", "ê³ ìš© ì‹œì¥ ë³€í™”", "ì™€ì´ì¦ˆí…Œí¬ ê¸€ë¡œë²Œ", "AI ê²½ì œí•™"]
        }
    ]
    return news_data

def create_daily_news_posts():
    today = datetime.date.today().isoformat()
    category = "AI ìµœì‹ ë‰´ìŠ¤"
    
    news_data_list = get_journalistic_news()
    
    if not news_data_list:
        print("âš ï¸ ì—…ë°ì´íŠ¸í•  ìƒˆë¡œìš´ ë‰´ìŠ¤ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤. ì‹¤ì‹œê°„ ê²€ìƒ‰ì„ ë¨¼ì € ìˆ˜í–‰í•˜ì„¸ìš”.")
        return False
    
    data_path = os.path.join(BASE_DIR, "config/posts_data.json")
    with open(data_path, "r", encoding="utf-8") as f:
        posts_data = json.load(f)

    newly_added = 0
    for item in news_data_list:
        title = item["title"]
        # SEO í‚¤ì›Œë“œ ì¶”ì¶œ (ë°ì´í„°ì— ì—†ì„ ê²½ìš° ê¸°ë³¸ê°’ ì‚¬ìš©)
        keywords = item.get("keywords", [item["category"], "AI ë‰´ìŠ¤", "ìˆ˜ìµ ìë™í™”"])
        
        # ì¤‘ë³µ ì²´í¬: ì´ë¯¸ ì¡´ì¬í•˜ëŠ” íƒ€ì´í‹€ì´ë©´ ì‚­ì œ í›„ ë‹¤ì‹œ ì¶”ê°€í•˜ì—¬ ë‚´ìš© ì—…ë°ì´íŠ¸
        posts_data = [p for p in posts_data if not (p['title'] == title and p['date'] == today)]
        
        posts_data.insert(0, {
            'title': title,
            'date': today,
            'category': category,
            'summary': item["summary"],
            'image_url': item["image_url"],
            'content': item["content"],
            'keywords': keywords # SEO í‚¤ì›Œë“œ ì €ì¥
        })
        newly_added += 1
        
    if newly_added > 0:
        with open(data_path, "w", encoding="utf-8") as f:
            json.dump(posts_data, f, indent=4, ensure_ascii=False)
        
        # ë¸”ë¡œê·¸ ë¹Œë“œ (build_engine.py ì‹¤í–‰)
        build_script = os.path.join(BASE_DIR, "build_engine.py")
        subprocess.run(["python3", build_script], check=True)
        
        print(f"ğŸ’° [ì„±ê³µ] ì´ {newly_added}ê°œì˜ ê°œë³„ ë‰´ìŠ¤ í¬ìŠ¤íŒ…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.")
        return True
    
    return False

if __name__ == "__main__":
    create_daily_news_posts()
